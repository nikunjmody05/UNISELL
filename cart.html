<!DOCTYPE html>
<html>
<head>
  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)}
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "vd2e67rdbu");
  </script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-JVPS0RQZ8F"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-JVPS0RQZ8F');
  </script>

  <title>Cart - Unisell</title>
  <link rel="stylesheet" href="style.css">

  <style>
    .pay-error{color:#e53935;font-size:14px;margin-top:10px;}
    .pay-success{color:#2e7d32;margin-top:15px;text-align:center;font-weight:600}

    .loader{
      display:none;margin:18px auto;
      border:4px solid #eee;border-top:4px solid #0066ff;
      width:38px;height:38px;border-radius:50%;
      animation:spin 1s linear infinite;
    }
    @keyframes spin{100%{transform:rotate(360deg)}}

    /* ---- Gateway look ---- */
    .gateway-box{
      background:#fff;
      border-radius:14px;
      padding:28px;
      box-shadow:0 18px 40px rgba(0,0,0,.15);
    }

    .gateway-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:20px;
    }

    .secure-badge{
      font-size:13px;
      background:#e8f5e9;
      color:#2e7d32;
      padding:6px 12px;
      border-radius:20px;
      font-weight:600;
    }

    .gateway-box select,
    .gateway-box input{
      width:100%;
      padding:12px;
      margin-top:12px;
      border-radius:8px;
      border:1px solid #ccc;
      font-size:15px;
    }

    .gateway-box .btn{
      margin-top:18px;
      font-size:16px;
      padding:14px;
    }
  </style>
</head>

<body>

<nav>
  <div class="logo">Unisell</div>

  <input id="searchBox" placeholder="Search products" onkeyup="searchProducts()">

  <div style="display:flex;align-items:center;gap:12px;">
    <div class="theme-toggle" onclick="toggleDark()">
      <div class="toggle-circle">‚òÄÔ∏è</div>
    </div>

    <a href="index.html">Home</a>
    <a href="products.html">Shop</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="cart.html">Cart <span id="count" class="cart-count">0</span></a>
  </div>
</nav>

<!-- ===== CART SECTION ===== -->
<div class="container" id="cartSection">
  <h2>Your Cart</h2>
  <ul id="cart-items"></ul>
  <h3 id="total"></h3>
  <button class="btn" onclick="goToPayment()">Checkout</button>
</div>

<!-- ===== FULL PAGE PAYMENT ===== -->
<div class="container" id="paymentPage" style="display:none;max-width:520px;">

  <div class="gateway-box">

    <div class="gateway-header">
      <h2>Secure Payment</h2>
      <div class="secure-badge">üîí 100% Secure</div>
    </div>

    <p style="color:#666;margin-bottom:10px;">Choose a payment method</p>

    <select id="payMethod" onchange="updatePlaceholder()">
      <option value="upi">UPI</option>
      <option value="card">Debit / Credit Card</option>
    </select>

    <input id="payInput" placeholder="Enter UPI ID (name@bank)">

    <div class="pay-error" id="payError"></div>
    <div class="loader" id="payLoader"></div>

    <button class="btn" onclick="payNow()">Pay Now</button>

    <div class="pay-success" id="paySuccess"></div>

  </div>
</div>

<!-- JS -->
<script src="script.js?v=6"></script>
<script>
  loadCart();

  function updatePlaceholder(){
    let method = document.getElementById("payMethod").value;
    document.getElementById("payInput").placeholder =
      method === "upi"
        ? "example@upi"
        : "Enter 16-digit card number";
  }
</script>

</body>
</html>
