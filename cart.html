<!DOCTYPE html>
<html>
<head>
  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)}
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "vd2e67rdbu");
  </script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-JVPS0RQZ8F"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-JVPS0RQZ8F');
  </script>

  <title>Cart - Unisell</title>
  <link rel="stylesheet" href="style.css">

  <!-- Checkout styles -->
  <style>
    .checkout-wrapper{
      display:flex;
      gap:40px;
      max-width:1100px;
      margin:40px auto;
    }

    .checkout-left,.checkout-right{
      background:#fff;
      border-radius:16px;
      padding:28px;
      box-shadow:0 16px 40px rgba(0,0,0,.15);
    }

    .checkout-left{flex:2}
    .checkout-right{flex:1}

    .payment-box label{
      display:block;
      margin-top:18px;
      font-weight:600;
      font-size:14px;
    }

    .payment-box select,
    .payment-box input{
      width:100%;
      padding:12px;
      margin-top:8px;
      border-radius:8px;
      border:1px solid #ccc;
      font-size:15px;
    }

    .pay-btn{
      margin-top:20px;
      width:100%;
      padding:14px;
      font-size:16px;
      border:none;
      border-radius:10px;
      background:#0b5cff;
      color:#fff;
      cursor:pointer;
    }

    .secure-note{
      margin-top:15px;
      font-size:13px;
      color:#2e7d32;
    }

    .pay-error{color:#e53935;margin-top:10px}
    .pay-success{color:#2e7d32;margin-top:12px;font-weight:600}

    .loader{
      display:none;margin:15px auto;
      border:4px solid #eee;border-top:4px solid #0b5cff;
      width:36px;height:36px;border-radius:50%;
      animation:spin 1s linear infinite;
    }
    @keyframes spin{100%{transform:rotate(360deg)}}

    #summaryItems p{
      font-size:14px;
      margin:8px 0;
    }
  </style>
</head>

<body>

<nav>
  <div class="logo">Unisell</div>

  <input id="searchBox" placeholder="Search products" onkeyup="searchProducts()">

  <div style="display:flex;align-items:center;gap:12px;">
    <div class="theme-toggle" onclick="toggleDark()">
      <div class="toggle-circle">‚òÄÔ∏è</div>
    </div>

    <a href="index.html">Home</a>
    <a href="products.html">Shop</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
    <a href="cart.html">Cart <span id="count" class="cart-count">0</span></a>
  </div>
</nav>

<!-- ===== CART SECTION ===== -->
<div class="container" id="cartSection">
  <h2>Your Cart</h2>
  <ul id="cart-items"></ul>
  <h3 id="total"></h3>
  <button class="btn" onclick="goToPayment()">Checkout</button>
</div>

<!-- ===== FULL PAGE CHECKOUT ===== -->
<div class="checkout-wrapper" id="paymentPage" style="display:none;">

  <!-- LEFT: PAYMENT -->
  <div class="checkout-left">
    <h2>Secure Payment</h2>

    <div class="payment-box">
      <label>Payment Method</label>
      <select id="payMethod">
        <option value="upi">UPI</option>
        <option value="card">Debit / Credit Card</option>
      </select>

      <label>Payment Details</label>
      <input id="payInput" placeholder="example@upi" />

      <div class="pay-error" id="payError"></div>
      <div class="loader" id="payLoader"></div>

      <button class="pay-btn" onclick="payNow()">Pay Securely</button>
      <div class="pay-success" id="paySuccess"></div>

      <p class="secure-note">üîí Payments are encrypted & secure</p>
    </div>
  </div>

  <!-- RIGHT: ORDER SUMMARY -->
  <div class="checkout-right">
    <h3>Order Summary</h3>
    <div id="summaryItems"></div>
    <hr>
    <h3 id="summaryTotal"></h3>
  </div>

</div>

<script src="script.js?v=6"></script>
<script>
  loadCart();

  document.getElementById("payMethod").addEventListener("change",function(){
    document.getElementById("payInput").placeholder =
      this.value==="upi" ? "example@upi" : "16-digit card number";
  });
</script>

</body>
</html>
